"use strict";(self.webpackChunktrekhleb_github_io=self.webpackChunktrekhleb_github_io||[]).push([[4336],{9584:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var a=t(8453),s=t(6540);function r(e){const n=Object.assign({p:"p",ul:"ul",li:"li",a:"a",blockquote:"blockquote",h2:"h2",span:"span"},(0,a.RP)(),e.components);return s.createElement(s.Fragment,null,s.createElement(n.p,null,"System design sketches for popular system design interview questions:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"#social-network"},"Design Social Network")," (like Facebook, Twitter, Instagram, Reddit)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"#ride-sharing-app"},"Design Ride-sharing App")," (like Uber, Lyft)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"#messenger"},"Design Messenger")," (like WhatsApp, Telegram, Viber)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"#video-streaming-app"},"Design Video Streaming App")," (like YouTube, Netflix)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"#file-hosting-app"},"Design File Hosting App")," (like GoogleDrive, Dropbox)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"#web-crawler"},"Design Web Crawler")),"\n"),"\n",s.createElement(n.blockquote,null,"\n",s.createElement(n.p,null,"See the sketches in full resolution at ",s.createElement(n.a,{href:"https://okso.app/showcase/system-design"},"okso.app/showcase/system-design")),"\n"),"\n",s.createElement("iframe",{width:"100%",height:"485",src:"https://www.youtube.com/embed/d0_XAN29g7U?si=T5Bbb6rJ06Ku20_v",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",s.createElement(n.h2,{id:"social-network",style:{position:"relative"}},"Social Network",s.createElement(n.a,{href:"#social-network","aria-label":"social network permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\r\n------------------------\r\n- Follow people\r\n- See followers and falowees\r\n- Create posts (text, image, url, @mentions)\r\n- Like posts\r\n- View user feed\r\n- View home feed\r\n\r\n\r\nNon-functional requirements:\r\n----------------------------\r\n- Add post &lt;500ms\r\n- View feed &lt;500ms\r\n- Post in feed with ~2 mins delay is ok\r\n- Billions of users\r\n- Unlimited followers\r\n\r\n\r\nCore entities:\r\n--------------\r\n- User\r\n- Follow\r\n- Post\r\n\r\n\r\nAPI (RPC-like):\r\n---------------\r\n- POST /getFollowers     {userId}\r\n- POST /getFollowees     {userId}\r\n- POST /followUser       {userId}\r\n\r\n- POST /createPost       {text}\r\n- POST /likePost         {postId}\r\n\r\n- POST /getHomeFeed      {userId}\r\n- POST /getUserFeed      {userId}</code></pre></div>'}}),"\n",s.createElement(n.p,null,"Design sketch:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 72.8%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+ElEQVR42o2U6W4bMQyE/f5vWbT9kSBe7eqkzumQttdOAzQVQMvW8XF4yBd8N0YBWkTtA7U1rLUgtaKWBIgDagAXz+OXb4GTkJaQpSNlgRAUg8e2OXIm9/vN/hc45jQLqcCHhFUcJq1WMaWzM4Ihp0oDrru9Dg2t944+6J1KUh0GlULwcWC7Xm1/jMl5PBX++Mj46Rd+eVVzh7WBmRq9V6y6Y46Gg+r23Z/OCsFj3ECNSk+g1A46N7MQeaikzLwsTIZacmJ4FZlOCs8Oqsq5IMZoZ/WMKj2BiwuWXA4RQQjhdrhQnYzzUk0ERbHLKaVTYWPldf9FoeDj3XGjG2jfdxzMkVCFd4etxRSRg7ZK/5Rtham9joteeP+94XA7FWZkhrsfOyFslSuBh8fb+xvCVlBiRevNlGkeVelD4SOfl8Eq7i6ghR01RxSpFrqwoq3ImSPvqJ6KHxDNq3POQteKb9v2bJuchBc8qs/wV2dArXRnIz88S2xIITPgW8jqSM+NVrA6+7Pne1G432VZDqc0AylkzGE9qBcnv/vItmH41ps0hemsUTTrimb9+umlTC70cQO2+6VpXcD329lCdKhrmveDcCsIBazMuXp7MV+enr0agqUz6axqa9UcPFuFe8x18O5Lhf/5ljUVUz9e/klUqa3XRIv2+2/gHykbmr5SvUpPAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Social network"\n        title=""\n        src="/static/6f199e6fe8777919c8cb23414a40ea1a/00d43/demo-31-system-design-sketches-social-network.png"\n        srcset="/static/6f199e6fe8777919c8cb23414a40ea1a/63868/demo-31-system-design-sketches-social-network.png 250w,\n/static/6f199e6fe8777919c8cb23414a40ea1a/0b533/demo-31-system-design-sketches-social-network.png 500w,\n/static/6f199e6fe8777919c8cb23414a40ea1a/00d43/demo-31-system-design-sketches-social-network.png 1000w,\n/static/6f199e6fe8777919c8cb23414a40ea1a/aa440/demo-31-system-design-sketches-social-network.png 1500w,\n/static/6f199e6fe8777919c8cb23414a40ea1a/912fc/demo-31-system-design-sketches-social-network.png 1934w"\n        sizes="(max-width: 1000px) 100vw, 1000px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(n.p,null,"Deep dives:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://okso.app/showcase/system-design/page/d0af682e-08cb-4b6f-3e12-1f5c1d3f8aec"},"Social network: System design sketch")," (okso.app)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/fb-news-feed"},"Facebook News Feed")," (hellointerview)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.youtube.com/watch?v=S2y9_XYOZsg"},"Instagram + Twitter + Facebook + Reddit")," (Jordan has no life)"),"\n"),"\n",s.createElement(n.h2,{id:"ride-sharing-app",style:{position:"relative"}},"Ride-Sharing App",s.createElement(n.a,{href:"#ride-sharing-app","aria-label":"ride sharing app permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\r\n------------------------\r\n- Rider gets estimated fare (by Start and Destination locations)\r\n- Rider requests a ride based on the estimate\r\n- Driver accepts/denies request + Navigates to pickup/drop-off\r\n\r\n\r\nNon-functional requirements:\r\n----------------------------\r\n- Low latency for rider-driver matching (&lt;1min)\r\n- Consistency of rider-driver 1:1 matching\r\n  - For one ride, only one driver will get request at a time\r\n- Highly available outside matching\r\n- Handle high-throughput (peak hours, popular events)\r\n\r\n\r\nCore entities:\r\n--------------\r\n- Rider\r\n- Driver\r\n- Ride\r\n- Location\r\n\r\n\r\nAPI:\r\n---------------\r\n- POST /getEstimate({from, to}) --\x3e Partial&lt;Ride>\r\n\r\n- POST /requestRide({ride_id}) --\x3e Ride\r\n\r\n- POST /getRide({ride_id})\r\n\r\n  - gets the latest ride entity to display the\r\n    ride details for both rider and driver apps\r\n\r\n- POST /updateLocation({lat, lon})\r\n\r\n  - both driver and rider can update their locations\r\n    which may be used to display their on the map\r\n  - drivers might update their location i.e. once\r\n    per 5 seconds (it is needed for matching)\r\n  - however this can be optimised on the client side,\r\n    where we might say that location update is\r\n    proportional to driver speed: for still drivers\r\n    we update location rarely, for moving - more often\r\n\r\n- POST /acceptRide({ride_id, accept})\r\n  - ride is being accepted by the driver\r\n\r\n- POST /updateRide({ride_id, status})</code></pre></div>'}}),"\n",s.createElement(n.p,null,"Design sketch:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhklEQVR42n2SjW6DMAyEef+nXFVpbcVgkH8SJ7ezaatJkxYpCEhyPn+XKaWEfd/hvUfOGcuyoJSCP0M65+DkWl5QW0U8BDEGHMeB3rttm+73Oy6XC9Z1hXMO1+sVIQRbHGOcYkMwtoSxJn7w4GimHUs1MyLyrju9lP8dFOj5QIvFijRpKG3ApwI1VGt9F5/0RVvUnzrUnWJ4KkH3CYtKKBCX0VozR0og5oKViPSM/jdBtTzPMx6Ph3HYts02KM8QPLqQDx1JEwRyjk/muQpSacZQqP52qI9aDwoUC0bdxRitiHc7vm4f8NuCHihMh/u2W8GggRThGXd2VCNnwKRB6Ny+F6ZVrP1Cd5qcCicWKkclQ4fhyStRgOuR/DK5Ct2PzlDYCXrDpAdTpDO3nGkOi9fa18raugXHNQxyHt0Kh1yx+YTP2w05ebTiuaWeLRv+PgxsJ5dW2xuyDgsi0QFbbGT5CuVoHXGfIXTfKTZeDH8PP38juvD36jAEKuB1NX/dqaf782L/AKkyDtY+XrIlAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Ride-sharing app"\n        title=""\n        src="/static/f9d629ee53ecdb0784f7da51fa8656b2/00d43/demo-31-system-design-sketches-ride-sharing.png"\n        srcset="/static/f9d629ee53ecdb0784f7da51fa8656b2/63868/demo-31-system-design-sketches-ride-sharing.png 250w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/0b533/demo-31-system-design-sketches-ride-sharing.png 500w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/00d43/demo-31-system-design-sketches-ride-sharing.png 1000w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/aa440/demo-31-system-design-sketches-ride-sharing.png 1500w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/e8950/demo-31-system-design-sketches-ride-sharing.png 2000w,\n/static/f9d629ee53ecdb0784f7da51fa8656b2/92bee/demo-31-system-design-sketches-ride-sharing.png 2340w"\n        sizes="(max-width: 1000px) 100vw, 1000px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(n.p,null,"Deep dives:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://okso.app/showcase/system-design/page/3033cade-7fcb-420a-0937-64245b7a1dc4"},"Ride-sharing platform: System design sketch")," (okso.app)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/uber"},"Design Uber")," (hellointerview)"),"\n"),"\n",s.createElement(n.h2,{id:"messenger",style:{position:"relative"}},"Messenger",s.createElement(n.a,{href:"#messenger","aria-label":"messenger permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\r\n------------------------\r\n- Group chat (&lt;100 users)\r\n- Send message\r\n- Receive message\r\n- Persist messages (user messages are\r\n  available on multiple devices)\r\n\r\n\r\nNon-functional requirements:\r\n----------------------------\r\n- Low latency for message delivery (&lt;500ms)\r\n- No lost messages (delivery guarantee)\r\n\r\n\r\nCore entities:\r\n--------------\r\n- Users\r\n- Groups\r\n- Messages\r\n\r\n\r\nAPI:\r\n---------------\r\n- createGroup({users: [], name: \'\'}) -> {group_id}\r\n- joinGroup({group_id}) -> "ACK"/ "ERR"\r\n- quitGroup({group_id}) -> "ACK"/ "ERR"\r\n- getMyGroups() -> {groups: []}\r\n- getGroupMessages({group_id, max_message_id, min_message_id}) -> {messages: []}\r\n\r\nWebSocket:\r\n- connect()\r\n- sendMessage({group_id, message, media: []}) -> "ACK"/ "ERR"\r\n- onGroupUpdated({group_id, participants}) -> "ACK"\r\n- onMessage({chat_id, user_id, message, attachments}) -> "ACK"</code></pre></div>'}}),"\n",s.createElement(n.p,null,"Design sketch:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 67.19999999999999%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxUlEQVR42m1T246rMAzs///iSvtwVCioFEJIQu6znnDobtWmSnOzx+OxuTzMHd/TF/rwD3tx4HDOYbjdsKgF1tl2l1JC33WYpgnbtiGEgE/jUnJBLfU4lSyeBj4mmD2ipozqxFHes0ztIrz3sNa2ADHGBk4CT8Bjqe2HSkCHJM4xV4R9h1MbGJRBlLYwxjSAXd4IyPUD4O+oxJW/UgtiiMjiNCuL8WEwjCOGYcCyLNBao5TSmBKUa875HVAp1WaW9LOXtLcAqzes2sDGit2HZ8oEut/vWNe17SnHhajUgUYUmilxksU8zwLgn8Z937fJ/TmYNjMiTmNIsJtUdJR0uCdAECOCTowubFsBZD5EzySFOqQ5Cslg9GOQZ8p8PCMlb7BbLefU2ChJ59TW54MJU2T7nNqdWr4UhYa8rDnIjG0/jgPirqVtwn+bQ3gGJ6OzdSjVyfilKHxktHMU6cWihK09KspidX3X5CAwGVJr3jNt2lxeW6a2aEqvrbeSpM2mj6Ibz9frtRWK7AhEWwITiCv939omaYe5G6E2jbBJw+7sxdSc2XtnN/wtzMun93ZjIiC9V48SAlqh+ON7JjMWg6CfwAj4A0Fq+ESsGeeEAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Messenger"\n        title=""\n        src="/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/00d43/demo-31-system-design-sketches-messenger.png"\n        srcset="/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/63868/demo-31-system-design-sketches-messenger.png 250w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/0b533/demo-31-system-design-sketches-messenger.png 500w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/00d43/demo-31-system-design-sketches-messenger.png 1000w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/aa440/demo-31-system-design-sketches-messenger.png 1500w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/e8950/demo-31-system-design-sketches-messenger.png 2000w,\n/static/968ea39ed8f78c9b4c7dbfcc26ca1f26/497e9/demo-31-system-design-sketches-messenger.png 2064w"\n        sizes="(max-width: 1000px) 100vw, 1000px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(n.p,null,"Deep dives:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://okso.app/showcase/system-design/page/4c662fd7-37d4-4864-208c-500f88565839"},"Messenger: System design sketch")," (okso.app)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.youtube.com/watch?v=-3Ge8EooS3g"},"Facebook Messenger + WhatsApp")," (Jordan has no life)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.youtube.com/watch?v=2Ejdj6QdDD0"},"Messenger/WhatsApp Design Deep Dive")," (Jordan has no life)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/whatsapp"},"Design Whatsapp or Messenger")," (hellointerview)"),"\n"),"\n",s.createElement(n.h2,{id:"video-streaming-app",style:{position:"relative"}},"Video Streaming App",s.createElement(n.a,{href:"#video-streaming-app","aria-label":"video streaming app permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\r\n------------------------\r\n- Upload video\r\n- Watch video (read-heavy)\r\n- Comment on video\r\n\r\n\r\nNon-functional requirements:\r\n----------------------------\r\n- Reliable uploads (no corrupted/missing videos)\r\n- Read-heavy (read/write ratio ~100:1)\r\n- Availability > Consistency (1-2 min delay between upload and feed is ok)\r\n- Low latency (before video starts playing)\r\n\r\n\r\nCore entities:\r\n--------------\r\n- User\r\n- Video Metadata\r\n- Video Chunks\r\n- Users\r\n- Comments\r\n\r\n\r\nAPI (RPC-like):\r\n---------------\r\n- POST /initiateUpload  {title, description, video, ...}}\r\n  - server responds with S3 private upload URL\r\n  - the actual video upload is going directly from client to S3\r\n\r\n- GET /watch   {video_id}\r\n  - returns video chunks metadata\r\n    - S3 (or CDN) URLs to manifest/playlist files\r\n  - video streaming happens directly from CDNs\r\n  - download by chunks (buffering, ~1Mb), no need to load all</code></pre></div>'}}),"\n",s.createElement(n.p,null,"Design sketch:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 75.6%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACI0lEQVR42nVUi27jMAzr///hDRjQYcW1ad6xHb9i8yhl6dahZ0CwrdgyRVE5uaaB+/gA5gnb+zvK9S9qivg5aq06z9OE5naDDwH/G6dSCnYDSjCorkENI2oOqHTWLaJsWQ93w4xr02JdV70TQ4SzDjnn74DHIvuKFDM2Xt6yWOJ6e1ihmUDzCdYsiDFhGEf8eXvDOAz7GT5ygu+BtUWOXlM70tvXRFg2brY95cVgosUYkfig6yaMNyL2q/o0YI0GiDNy8nRUOOfQti2stXpgWRb0fY+V/pUZmFgxcG+cQZk8YNMzh5uQxyGQU0rKxzzPD15W49B3/YM3Odf1A9MlOhbS0X9k9cwhA4jJhZHcZOEuJFQbYZmmdUK+8Frg5h5ze0EQlHzkqSjHq/f7Hcbs/AhC772uc97I3aJFyQxWBE2cdtt2eR38aUDZBOrq8/MTXddpIHlRfHpZCpIcAyaMxmuqJSy6P6h6KRsJsMuj6DpIJamz6onSO6k7JlLR3BtynZ8o+qmO02+lS6WTHKZcRNjZBviVktJvRXWav3Qqj0ixrter0rTr8NeomZcM0xWRO87kcFU+iZrfDH0DhZyClYRVZpfLRfl/GVCgZKnuVvf5q2giqciAdg2PADJkPp/P6pN6fAeUjqDIpXddqiwI4BMRsVc9USVXtT3DQsSrU/nIkIdE/NIIQsXpCVotOksw5Yw/CzHpbbs47XU5ogWor/82/wDVnZZ8YVI85wAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Video streaming app"\n        title=""\n        src="/static/60d6704a1eb88983b1b71c1a87bda88c/00d43/demo-31-system-design-sketches-video-streaming.png"\n        srcset="/static/60d6704a1eb88983b1b71c1a87bda88c/63868/demo-31-system-design-sketches-video-streaming.png 250w,\n/static/60d6704a1eb88983b1b71c1a87bda88c/0b533/demo-31-system-design-sketches-video-streaming.png 500w,\n/static/60d6704a1eb88983b1b71c1a87bda88c/00d43/demo-31-system-design-sketches-video-streaming.png 1000w,\n/static/60d6704a1eb88983b1b71c1a87bda88c/aa440/demo-31-system-design-sketches-video-streaming.png 1500w,\n/static/60d6704a1eb88983b1b71c1a87bda88c/ca3c3/demo-31-system-design-sketches-video-streaming.png 1850w"\n        sizes="(max-width: 1000px) 100vw, 1000px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(n.p,null,"Deep dives:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://okso.app/showcase/system-design/page/2ef00091-cdfa-4f07-28cf-d0b6e4207de5"},"Video streaming platform: System design sketch")," (okso.app)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.youtube.com/watch?v=jPKTo1iGQiE"},"Design Youtube")," (NeetCode)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.youtube.com/watch?v=43bB7oSn190"},"Netflix + YouTube")," (Jordan has no life)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.youtube.com/watch?v=ghYbFgeqXa0"},"System Design: YouTube")," (System Design Fight Club)"),"\n"),"\n",s.createElement(n.h2,{id:"file-hosting-app",style:{position:"relative"}},"File Hosting App",s.createElement(n.a,{href:"#file-hosting-app","aria-label":"file hosting app permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\r\n------------------------\r\n- Upload file\r\n- Download file\r\n- Sync files across devices\r\n\r\n\r\nNon-functional requirements:\r\n----------------------------\r\n- Availability over consistency\r\n  - Download the older version of\r\n    the file instead of waiting\r\n    for a new version to propagate\r\n    is ok\r\n- low latency for uploads and downloads\r\n- support large files (50Gb)\r\n  - resumable uploads\r\n- high data integrity (accurate syncs)\r\n\r\n\r\nCore entities:\r\n--------------\r\n- File (row bytes)\r\n- File Metadata\r\n- Users\r\n\r\n\r\nAPI:\r\n---------------\r\n- POST /uploadFile({metadata}) --\x3e {upload_id, presigned_url}\r\n\r\n- POST /getFile({file_id}) --\x3e {file{}, metadata}\r\n\r\n- POST /getChanges({since}) --\x3e file_metadata[]</code></pre></div>'}}),"\n",s.createElement(n.p,null,"Design sketch:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 55.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABaklEQVR42o1Sa2+DMAzk//+/aR+raePVAaGEPCG52W6DUDeps2QMwTmfz67M8IGleQP0J6DeAa/wyvZ9h/de4rNVzgds24acM/S6wjknyewhBDpPwGYIxdwjMp1HfNU1xnGUe+wpJYmVXCCLMUIphWVZsBKw1lrAYwyITiOYG7yZEbyDJRKTzVDzAmuM3KmpwDRNqOBnIChEYpOowtmO6vTeXa9o2o6KGWGe8r310h1HdgKcADcKk/wAPLcgRojeOmHCnSRCi4kBk3wXTblQhbiCWbp1lgTWqG1baX9XBhv7bJEWL5cNtci6D+uGRa+w1oo0ck6xKvrVTSMgTJt/sE8kenAeiRhwTjHO+SYJGOz3lN29lcvlgq7rjmFwcqmeiV3Wnsk/AHfqovt7bfjB/df1l0yJtSurIxpmHEDFOKfveyl+Zn4AIu/IpkcOt5dLXQbFYMMwiHb5tB0HIE8aDPjYy/8A56c1Y8AfklBdsbuVdMEAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="File hosting app"\n        title=""\n        src="/static/f448659cf88ca0b77c0dd09eb6a00667/00d43/demo-31-system-design-sketches-file-hosting.png"\n        srcset="/static/f448659cf88ca0b77c0dd09eb6a00667/63868/demo-31-system-design-sketches-file-hosting.png 250w,\n/static/f448659cf88ca0b77c0dd09eb6a00667/0b533/demo-31-system-design-sketches-file-hosting.png 500w,\n/static/f448659cf88ca0b77c0dd09eb6a00667/00d43/demo-31-system-design-sketches-file-hosting.png 1000w,\n/static/f448659cf88ca0b77c0dd09eb6a00667/aa440/demo-31-system-design-sketches-file-hosting.png 1500w,\n/static/f448659cf88ca0b77c0dd09eb6a00667/e8950/demo-31-system-design-sketches-file-hosting.png 2000w,\n/static/f448659cf88ca0b77c0dd09eb6a00667/a5262/demo-31-system-design-sketches-file-hosting.png 2388w"\n        sizes="(max-width: 1000px) 100vw, 1000px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(n.p,null,"Deep dives:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://okso.app/showcase/system-design/page/868e746d-0276-40e1-2bcf-b42bceae1b8f"},"File hosting app")," (okso.app)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/dropbox"},"Design Dropbox")," (hellointerview)"),"\n"),"\n",s.createElement(n.h2,{id:"web-crawler",style:{position:"relative"}},"Web Crawler",s.createElement(n.a,{href:"#web-crawler","aria-label":"web crawler permalink",className:"gatsby-remark-autolink-header-anchor after"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}}))),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Functional requirements:\r\n------------------------\r\n- Scrape the web starting from seed URLs\r\n- Extract and store text data\r\n\r\n\r\nNon-functional requirements:\r\n----------------------------\r\n- Fault-tolerant\r\n- Politeness (respect robots.txt, don\'t DDoS)\r\n- Scale to 1B pages\r\n- Efficient (crawl within a week)\r\n\r\n\r\nCore entities:\r\n--------------\r\n- URLs\r\n- Text data\r\n- Domain metadata\r\n\r\n\r\nInterface:\r\n----------\r\n- input: seed URLs\r\n- output: text data\r\n\r\n\r\nData Flow:\r\n----------\r\n1. Take seed URLs from a frontier and the IP from DNS\r\n2. Fetch HTML\r\n3. Extract text\r\n4. Store text in the database\r\n5. Extract URLs from the page and add then to the frontier\r\n6. Repeat steps 1-5 until all URLs are crawled</code></pre></div>'}}),"\n",s.createElement(n.p,null,"Design sketch:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 72.39999999999999%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB3UlEQVR42nVT2W7jMAzM/3/gvgTI0SYFiiY6bEuyzlmOEu2mTUqAkGSJQ3KG3rQKtCYuK2SlGaNRSobWGiEEDIsxIucsd0ViGl7ZRr9HfPxZoHYFJd0D19STEOAxUCuN8/ksq8JvtlmWBZOdUEvtH9Z1RVANJQIp/QfkGjSQF7lY3uWhfg1Ya/0XRHC2WHPrVRJ8gKWUkFxFXrNkmoEiVLRy4+sRcGwYdDwesd1uYSeLJoBJL2hSkXe+tx9rgzIWShs4J3dBoSb3HZAEs5JVAk6nE/b7PT6/vlCm0MGaCZiFEmMtbKiYnCSQTpxzEhe6P/K8Mcbg7XCEvlLRFW5SyNMJNcz4fPuA01Nvd54nuFgwLb4nvlwu8m3ulQ/a6Bty0IyHpEeN0mZayXznJ0v13nsoUZXjssgUGLfier2AhdB5T2DuCX7jMNruNQugBA5jZj6iWKQlZjmnWxIrFBCEIrIyvv0mygBge49nBhGwSpCTXMo6HA+HDsTkYxKeVH4FOKobA978F3KwWER1nosIlI2o7HN/Q4F/BeQlx2i323VFyWGMvg877/pcKuFaSctXj6uIxKqfAJlp7Ad3P42AXV3hE0m4u/9lTy2PNumsoNxV5oiwyl6V+M9//JHDv0+yR6t5433RAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Web crawler"\n        title=""\n        src="/static/6baf8c4316b0b22969c9f531d7de4d2f/00d43/demo-31-system-design-sketches-web-crawler.png"\n        srcset="/static/6baf8c4316b0b22969c9f531d7de4d2f/63868/demo-31-system-design-sketches-web-crawler.png 250w,\n/static/6baf8c4316b0b22969c9f531d7de4d2f/0b533/demo-31-system-design-sketches-web-crawler.png 500w,\n/static/6baf8c4316b0b22969c9f531d7de4d2f/00d43/demo-31-system-design-sketches-web-crawler.png 1000w,\n/static/6baf8c4316b0b22969c9f531d7de4d2f/aa440/demo-31-system-design-sketches-web-crawler.png 1500w,\n/static/6baf8c4316b0b22969c9f531d7de4d2f/31d79/demo-31-system-design-sketches-web-crawler.png 1954w"\n        sizes="(max-width: 1000px) 100vw, 1000px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(n.p,null,"Deep dives:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://okso.app/showcase/system-design/page/7c557108-277c-4a77-12ce-7622b3493420"},"Web-crawler app: System design sketch")," (okso.app)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.hellointerview.com/learn/system-design/answer-keys/web-crawler"},"Design a Web Crawler")," (hellointerview)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.youtube.com/watch?v=MdWvMX4J-Vc"},"Design a Web Crawler")," (Jordan has no life)"),"\n",s.createElement(n.li,null,s.createElement(n.a,{href:"https://www.youtube.com/watch?v=BKZxZwUgL3Y"},"System Design distributed web crawler")," (Tech Dummies Narendra)"),"\n"))}var i=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.RP)(),e.components);return n?s.createElement(n,e,s.createElement(r,e)):r(e)},l=t(9713);const c=e=>{const{data:n,children:t}=e;return s.createElement(l.A,{post:n},t)};function o(e){return s.createElement(c,e,s.createElement(i,e))}}}]);
//# sourceMappingURL=component---src-templates-post-tsx-content-file-path-src-posts-2024-system-design-sketches-index-mdx-0fbc6bfee4cc532c6952.js.map